# EcoBoard 快速測試指南

## 🚀 啟動應用

```powershell
# 終端 1 - 啟動後端
npm run dev

# 終端 2 - 啟動前端
cd client
npm run dev
```

## ✅ 測試清單

### 1. WorkItems 頁面 (最重要)

**路徑**: `/workitems`

#### 基本功能測試
- [ ] 頁面加載正常（60/40 佈局）
- [ ] 左側顯示 AI 對話框
- [ ] 右側顯示工作項目列表
- [ ] AI 初始歡迎消息顯示

#### 對話功能測試
- [ ] 輸入工作描述，點擊「發送」
- [ ] AI 回覆顯示為 Markdown 格式
- [ ] 消息自動滾動到底部
- [ ] 多輪對話正常進行

#### 保存功能測試
- [ ] 點擊「儲存為新工作項目」
- [ ] 右側列表新增一個工作項目
- [ ] 工作項目顯示 AI 生成的標題（不是原始輸入）
- [ ] 工作項目有紫色的 AI 摘要區域
- [ ] AI 摘要以 Markdown 格式顯示

#### 編輯功能測試
- [ ] 點擊已存在的工作項目
- [ ] 左側對話框加載歷史對話
- [ ] 頂部顯示「(編輯模式)」標記
- [ ] 可以繼續與 AI 對話
- [ ] 點擊「更新工作項目」成功更新
- [ ] 點擊「取消」退出編輯模式

#### 刪除功能測試
- [ ] 點擊工作項目的垃圾桶圖標
- [ ] 確認對話框出現
- [ ] 確認刪除後項目消失
- [ ] 如果正在編輯，對話框重置

---

### 2. UpdateWork 頁面

**路徑**: `/updatework`

#### 顯示測試
- [ ] 左側顯示今日工作項目列表
- [ ] 工作項目顯示 **AI 標題**（不是原始 content）
- [ ] 如果有 AI 摘要，顯示紫色邊框的摘要區域
- [ ] 摘要帶 Sparkles ✨ 圖標
- [ ] 摘要以 Markdown 格式顯示

#### 功能測試
- [ ] 選擇一個工作項目
- [ ] 右側顯示進度更新表單
- [ ] 選擇進度狀態（未開始/進行中/已完成/受阻）
- [ ] 輸入更新內容
- [ ] 提交成功
- [ ] 更新歷史中顯示新記錄

---

### 3. StandupReview 頁面

**路徑**: `/standup-review`

#### 顯示測試
- [ ] 統計卡片顯示正確（團隊人數、已打卡、打卡率、工作項目）
- [ ] 成員列表正確顯示
- [ ] 打卡狀態正確（綠色=已打卡，灰色=未打卡）
- [ ] 打卡時間顯示正確

#### AI 分析測試
- [ ] 點擊「AI 分析工作分配」按鈕
- [ ] 按鈕顯示「分析中...」
- [ ] 分析結果以 **Markdown 格式**顯示
- [ ] 分析結果在藍色背景卡片中
- [ ] 內容包含標題、列表、段落等 Markdown 元素

#### 工作項目展開測試
- [ ] 點擊成員的「今日工作項目 (N)」
- [ ] 工作項目以卡片形式展開
- [ ] 顯示 **AI 標題**（不是原始 content）
- [ ] 如果有 AI 摘要，顯示紫色標記的摘要區域
- [ ] 摘要帶 Sparkles ✨ 圖標
- [ ] 摘要以 Markdown 格式顯示
- [ ] 卡片易於閱讀，有良好視覺層次

---

### 4. DailySummary 頁面

**路徑**: `/daily-summary`

#### 顯示測試
- [ ] 每日總結以 **Markdown 格式**顯示
- [ ] 支持標題、列表、粗體等格式
- [ ] 顯示生成時間和生成者

#### 功能測試
- [ ] 選擇不同日期
- [ ] 點擊「載入總結」
- [ ] 對應日期的總結顯示
- [ ] 點擊「重新生成」按鈕
- [ ] 總結重新生成
- [ ] 查看歷史記錄功能正常

---

## 🎯 重點驗證

### AI 內容顯示標準
所有 AI 生成的內容應該：
1. ✨ 帶有 Sparkles 圖標
2. 🟣 紫色標記（#7c3aed）
3. 📝 Markdown 格式正確渲染
4. 📦 卡片式佈局，視覺層次清晰

### Markdown 渲染測試
AI 應該能正確顯示：
- **粗體文字**
- *斜體文字*
- # 標題
- 列表（有序和無序）
- 代碼塊
- 鏈接

### 視覺檢查
- [ ] 佈局無錯位
- [ ] 顏色搭配協調
- [ ] 圖標正確顯示
- [ ] 響應式設計（調整窗口大小）
- [ ] 滾動條正常工作
- [ ] Loading 狀態顯示

---

## 🐛 常見問題排查

### 如果 AI 內容顯示為純文字
- 檢查 ReactMarkdown 是否正確導入
- 檢查是否用 `<ReactMarkdown>{content}</ReactMarkdown>` 包裹
- 查看瀏覽器控制台是否有錯誤

### 如果工作項目顯示原始 content
- 檢查後端 API 是否返回 ai_title 和 ai_summary
- 檢查數據庫遷移是否執行 (006_add_ai_fields_to_work_items.sql)
- 檢查前端是否優先顯示 ai_title：`{item.ai_title || item.content}`

### 如果對話歷史加載失敗
- 檢查 session_id 是否正確保存
- 檢查後端 `/api/ai/chat/history/:sessionId` 端點
- 查看網絡請求是否成功

### 如果 Sparkles 圖標不顯示
- 檢查 lucide-react 是否正確安裝：`npm install lucide-react`
- 檢查導入：`import { Sparkles } from 'lucide-react'`

---

## 📊 測試報告模板

```markdown
## 測試日期: YYYY-MM-DD

### WorkItems 頁面
- [ ] 通過 / [ ] 失敗
- 問題描述（如果有）:

### UpdateWork 頁面
- [ ] 通過 / [ ] 失敗
- 問題描述（如果有）:

### StandupReview 頁面
- [ ] 通過 / [ ] 失敗
- 問題描述（如果有）:

### DailySummary 頁面
- [ ] 通過 / [ ] 失敗
- 問題描述（如果有）:

### 整體評價
- 視覺效果: ⭐⭐⭐⭐⭐
- 功能完整性: ⭐⭐⭐⭐⭐
- 用戶體驗: ⭐⭐⭐⭐⭐

### 發現的 Bug
1. 
2. 
3. 

### 建議改進
1. 
2. 
3. 
```

---

## 🚨 注意事項

1. **數據庫遷移**: 首次測試前確保運行數據庫遷移
   ```sql
   -- 執行 006_add_ai_fields_to_work_items.sql
   ```

2. **環境變量**: 確保 AI 服務配置正確
   ```
   VLLM_API_URL=your_vllm_endpoint
   ```

3. **清除緩存**: 如果遇到奇怪問題，嘗試：
   ```powershell
   # 清除瀏覽器緩存
   # 或硬刷新: Ctrl + Shift + R
   ```

4. **查看日誌**: 
   - 瀏覽器控制台 (F12) 查看前端錯誤
   - 終端查看後端日誌

---

## ✅ 測試完成標準

所有以下項目都應該✅：
- [ ] 4 個頁面都能正常訪問
- [ ] AI 內容都以 Markdown 格式顯示
- [ ] 所有 AI 內容都有紫色標記和 Sparkles 圖標
- [ ] 工作項目顯示 AI 標題而非原始輸入
- [ ] 對話歷史正確加載
- [ ] 創建、編輯、刪除功能正常
- [ ] 無控制台錯誤
- [ ] 無視覺錯位

---

祝測試順利！🎉
